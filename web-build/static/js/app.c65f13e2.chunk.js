(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{1148:function(e,t){},1150:function(e,t){},1157:function(e,t){},1158:function(e,t){},1225:function(e,t,n){var a={"./af":530,"./af.js":530,"./ar":531,"./ar-dz":532,"./ar-dz.js":532,"./ar-kw":533,"./ar-kw.js":533,"./ar-ly":534,"./ar-ly.js":534,"./ar-ma":535,"./ar-ma.js":535,"./ar-sa":536,"./ar-sa.js":536,"./ar-tn":537,"./ar-tn.js":537,"./ar.js":531,"./az":538,"./az.js":538,"./be":539,"./be.js":539,"./bg":540,"./bg.js":540,"./bm":541,"./bm.js":541,"./bn":542,"./bn-bd":543,"./bn-bd.js":543,"./bn.js":542,"./bo":544,"./bo.js":544,"./br":545,"./br.js":545,"./bs":546,"./bs.js":546,"./ca":547,"./ca.js":547,"./cs":548,"./cs.js":548,"./cv":549,"./cv.js":549,"./cy":550,"./cy.js":550,"./da":551,"./da.js":551,"./de":552,"./de-at":553,"./de-at.js":553,"./de-ch":554,"./de-ch.js":554,"./de.js":552,"./dv":555,"./dv.js":555,"./el":556,"./el.js":556,"./en-au":557,"./en-au.js":557,"./en-ca":558,"./en-ca.js":558,"./en-gb":559,"./en-gb.js":559,"./en-ie":560,"./en-ie.js":560,"./en-il":561,"./en-il.js":561,"./en-in":562,"./en-in.js":562,"./en-nz":563,"./en-nz.js":563,"./en-sg":564,"./en-sg.js":564,"./eo":565,"./eo.js":565,"./es":566,"./es-do":567,"./es-do.js":567,"./es-mx":568,"./es-mx.js":568,"./es-us":569,"./es-us.js":569,"./es.js":566,"./et":570,"./et.js":570,"./eu":571,"./eu.js":571,"./fa":572,"./fa.js":572,"./fi":573,"./fi.js":573,"./fil":574,"./fil.js":574,"./fo":575,"./fo.js":575,"./fr":576,"./fr-ca":577,"./fr-ca.js":577,"./fr-ch":578,"./fr-ch.js":578,"./fr.js":576,"./fy":579,"./fy.js":579,"./ga":580,"./ga.js":580,"./gd":581,"./gd.js":581,"./gl":582,"./gl.js":582,"./gom-deva":583,"./gom-deva.js":583,"./gom-latn":584,"./gom-latn.js":584,"./gu":585,"./gu.js":585,"./he":586,"./he.js":586,"./hi":587,"./hi.js":587,"./hr":588,"./hr.js":588,"./hu":589,"./hu.js":589,"./hy-am":590,"./hy-am.js":590,"./id":591,"./id.js":591,"./is":592,"./is.js":592,"./it":593,"./it-ch":594,"./it-ch.js":594,"./it.js":593,"./ja":595,"./ja.js":595,"./jv":596,"./jv.js":596,"./ka":597,"./ka.js":597,"./kk":598,"./kk.js":598,"./km":599,"./km.js":599,"./kn":600,"./kn.js":600,"./ko":601,"./ko.js":601,"./ku":602,"./ku.js":602,"./ky":603,"./ky.js":603,"./lb":604,"./lb.js":604,"./lo":605,"./lo.js":605,"./lt":606,"./lt.js":606,"./lv":607,"./lv.js":607,"./me":608,"./me.js":608,"./mi":609,"./mi.js":609,"./mk":610,"./mk.js":610,"./ml":611,"./ml.js":611,"./mn":612,"./mn.js":612,"./mr":613,"./mr.js":613,"./ms":614,"./ms-my":615,"./ms-my.js":615,"./ms.js":614,"./mt":616,"./mt.js":616,"./my":617,"./my.js":617,"./nb":618,"./nb.js":618,"./ne":619,"./ne.js":619,"./nl":620,"./nl-be":621,"./nl-be.js":621,"./nl.js":620,"./nn":622,"./nn.js":622,"./oc-lnc":623,"./oc-lnc.js":623,"./pa-in":624,"./pa-in.js":624,"./pl":625,"./pl.js":625,"./pt":626,"./pt-br":627,"./pt-br.js":627,"./pt.js":626,"./ro":628,"./ro.js":628,"./ru":629,"./ru.js":629,"./sd":630,"./sd.js":630,"./se":631,"./se.js":631,"./si":632,"./si.js":632,"./sk":633,"./sk.js":633,"./sl":634,"./sl.js":634,"./sq":635,"./sq.js":635,"./sr":636,"./sr-cyrl":637,"./sr-cyrl.js":637,"./sr.js":636,"./ss":638,"./ss.js":638,"./sv":639,"./sv.js":639,"./sw":640,"./sw.js":640,"./ta":641,"./ta.js":641,"./te":642,"./te.js":642,"./tet":643,"./tet.js":643,"./tg":644,"./tg.js":644,"./th":645,"./th.js":645,"./tk":646,"./tk.js":646,"./tl-ph":647,"./tl-ph.js":647,"./tlh":648,"./tlh.js":648,"./tr":649,"./tr.js":649,"./tzl":650,"./tzl.js":650,"./tzm":651,"./tzm-latn":652,"./tzm-latn.js":652,"./tzm.js":651,"./ug-cn":653,"./ug-cn.js":653,"./uk":654,"./uk.js":654,"./ur":655,"./ur.js":655,"./uz":656,"./uz-latn":657,"./uz-latn.js":657,"./uz.js":656,"./vi":658,"./vi.js":658,"./x-pseudo":659,"./x-pseudo.js":659,"./yo":660,"./yo.js":660,"./zh-cn":661,"./zh-cn.js":661,"./zh-hk":662,"./zh-hk.js":662,"./zh-mo":663,"./zh-mo.js":663,"./zh-tw":664,"./zh-tw.js":664};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=1225},229:function(e){e.exports=JSON.parse('{"CELO":{"DESTINATION_ADDRESS":"0x3Ca7CdcFB98b066D6e8fEbe45a95C2FE911Bf138"},"SERVER":{"URL":"https://pagos.saldo.mx/api"},"COMPANY_LIST":[{"value":12,"label":"Agua CDMX"},{"value":7,"label":"Cablemas"},{"value":1,"label":"CFE"},{"value":13,"label":"Dish"},{"value":11,"label":"EcoGas"},{"value":8,"label":"Gas Natural"},{"value":2,"label":"Infonavit"},{"value":34,"label":"Izzi"},{"value":95,"label":"MaxiGas"},{"value":6,"label":"Megacable"},{"value":66,"label":"Plan Telcel"},{"value":5,"label":"SKY"},{"value":111,"label":"Telmex"},{"value":88,"label":"Total Play"}]}')},768:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(5),o=n.n(s),l=n(6),c=n.n(l),i=n(8),u=n.n(i),f=n(9),m=n.n(f),d=n(3),p=n.n(d),h=n(25),j=n(4),g=n(1);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var b=function(e){u()(n,e);var t=y(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return r.a.createElement(j.a,{style:v.container},r.a.createElement(h.a,{style:v.text},"Honoro"))}}]),n}(a.Component),v=g.a.create({container:{height:60,backgroundColor:"#673ab7",alignItems:"center",justifyContent:"center"},text:{color:"white",fontSize:24,fontWeight:"500"}}),E=n(766),S=n(62),x=n(24),w=n.n(x),k=n(31),C=n(149),R=n(211),z=n(212),T=n.n(z),O=n(273);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var P=new T.a("https://alfajores-forno.celo-testnet.org"),A=(Object(R.newKitFromWeb3)(P),function(e){u()(n,e);var t=N(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={status:null,address:null,phoneNumber:null,isUserExist:null,user:null},e.login=function(){var t,n;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("entering login"),"login","Web DappKit",Object(C.requestAccountAddress)({requestId:"login",dappName:"Web DappKit",callback:window.location.href}),a.prev=4,a.next=7,w.a.awrap(Object(C.waitForAccountAuth)("login"));case 7:t=a.sent,setTimeout((function(){e.setState({status:"Login succeeded",address:t.address,phoneNumber:t.phoneNumber,loggedIn:!0})}),100),n={status:"Login succeeded",address:t.address,phoneNumber:t.phoneNumber},localStorage.setItem("usr",JSON.stringify(n)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(4),console.log(a.t0),e.setState({status:"Login timed out, try again."});case 17:case"end":return a.stop()}}),null,null,[[4,13]],Promise)},e}return c()(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t=JSON.parse(localStorage.getItem("usr"));null===t?e.setState({isUserExist:!1}):e.setState({isUserExist:!0,user:t})}),0)}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{style:D.container},r.a.createElement(O.a,{containerStyle:D.card},null===this.state.user?r.a.createElement(k.a,{style:D.submitButton,onPress:function(){return e.login()}},r.a.createElement(h.a,{style:D.submitButtonText}," Connect to Valora ")):r.a.createElement(j.a,{style:D.mainV},r.a.createElement(j.a,{style:D.cView},r.a.createElement(j.a,{style:D.cUSDView}),r.a.createElement(h.a,{style:D.cUSD},"4.00 cUSD")),r.a.createElement(j.a,{style:D.hView},r.a.createElement(j.a,{style:D.HNRView}),r.a.createElement(h.a,{style:D.HNR},"100.00 HNR"))),this.state.user?r.a.createElement(j.a,{style:D.desc},r.a.createElement(h.a,{style:D.text},"Status: ",this.state.user.status),r.a.createElement(h.a,{style:D.text},"Address: ",this.state.user.address),r.a.createElement(h.a,{style:D.text},"Phone number: ",this.state.user.phoneNumber)):null,this.state.user&&r.a.createElement(j.a,{style:D.pay},r.a.createElement(k.a,null,r.a.createElement(h.a,{onPress:function(){return e.props.history.push("/pay")}},"Borrow")),r.a.createElement(k.a,null,r.a.createElement(h.a,{onPress:function(){return e.props.history.push("/pay")}},"Repay")),r.a.createElement(k.a,null,r.a.createElement(h.a,{onPress:function(){return e.props.history.push("/pay")}},"Use"))),r.a.createElement(r.a.Fragment,null)))}}]),n}(a.Component)),D=g.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},card:{backgroundColor:"#ffffff",padding:0,paddingTop:25,width:300,borderRadius:3,minHeight:300},submitButton:{backgroundColor:"#673ab7",padding:10,margin:15,height:40,alignItems:"center",textAlign:"center",borderRadius:5},submitButtonText:{color:"white",fontSize:18,fontWeight:"500"},text:{padding:10},desc:{padding:20},pay:{flexDirection:"row-reverse",justifyContent:"space-between",flex:1,top:45,padding:20,backgroundColor:"#cccbc8",fontSize:14,fontWeight:700},cUSDView:{width:20,height:20,backgroundColor:"#07a832",marginLeft:30,borderRadius:18},cView:{flexDirection:"row"},hView:{flexDirection:"row"},cUSD:{marginLeft:5,fontSize:14,fontWeight:700},HNRView:{width:20,height:20,backgroundColor:"#c9c012",marginLeft:20,borderRadius:18},HNR:{marginLeft:5,fontSize:14,fontWeight:700},mainV:{flexDirection:"row"}}),I=n(767),B=n(43),L=n(176),F=n(21),U=n(764),V=n(765),W=n(229);function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var M=new T.a("https://forno.celo.org"),H=Object(R.newKitFromWeb3)(M),J=function(e){u()(n,e);var t=K(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={amount:"",reference:"",company:F.any,address:W.CELO.DESTINATION_ADDRESS,mainPage:!0,spinner:!1},e.handleReference=function(t){e.setState({reference:t})},e.handleAmount=function(t){e.setState({amount:t})},e.transfer=function(t,n){var a,r,s,o,l,c,i,u,f,m,d;return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.address){t.next=32;break}return console.log("Entering transfer"),a="transfer",r="Honoro",s=W.CELO.DESTINATION_ADDRESS,o=String(1e18*Number(e.state.result.updatedAmount)),t.next=8,w.a.awrap(H.contracts.getStableToken());case 8:return l=t.sent,c=l.transfer(s,o).txo,Object(C.requestTxSig)(H,[{tx:c,to:l.address,from:String(localStorage.getItem("address")),feeCurrency:C.FeeCurrency.cUSD}],{requestId:a,dappName:r,callback:window.location.href}),t.prev=11,t.next=14,w.a.awrap(Object(C.waitForSignedTxs)(a));case 14:u=t.sent,i=u.rawTxs[0],t.next=24;break;case 18:return t.prev=18,t.t0=t.catch(11),console.log(t.t0),L.a.alert("Error",t.t0,[{text:"OK",onPress:function(){return console.log("OK Pressed")}}]),e.setState({status:"transaction signing timed out, try again."}),t.abrupt("return");case 24:return t.next=26,w.a.awrap(H.connection.sendSignedTransaction(i));case 26:return m=t.sent,t.next=29,w.a.awrap(m.waitReceipt());case 29:(d=t.sent).status?(L.a.alert("Success","Transaction completed",[{text:"OK",onPress:function(){return console.log("OK")}}]),f="transfer succeeded with receipt: "+d.transactionHash):(L.a.alert("Error",JSON.stringify(d),[{text:"OK",onPress:function(){return console.log("OK")}}]),console.log(JSON.stringify(d)),f="failed to send transaction"),e.setState({status:f});case 32:case"end":return t.stop()}}),null,null,[[11,18]],Promise)},e}return c()(n,[{key:"save",value:function(){var e=this;this.setState({spinner:!0});var t={company:{amount:this.state.amount,company:this.state.company.value,reference:this.state.reference,source:"honoro",result:F.any}};fetch(W.SERVER.URL+"/transaction/details",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({mainPage:!1,result:t,spinner:!1})})).catch((function(t){console.log(t),e.setState({spinner:!1})}))}},{key:"gotToLogin",value:function(){I.a.pop()}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{style:_.container},r.a.createElement(V.a,{visible:this.state.spinner,textContent:"Loading...",textStyle:{color:"#673ab7",fontSize:14}}),r.a.createElement(O.a,{containerStyle:_.card},this.state.mainPage&&r.a.createElement(j.a,null,r.a.createElement(U.a,{items:W.COMPANY_LIST,placeholder:"Select Company",style:_.dropdown,onChangeItem:function(t){return e.setState({company:t})}}),r.a.createElement(B.a,{style:_.input,underlineColorAndroid:"transparent",autoCapitalize:"none",placeholder:"Reference",onChangeText:this.handleReference}),r.a.createElement(B.a,{style:_.input,underlineColorAndroid:"transparent",placeholder:"Amount",autoCapitalize:"none",onChangeText:this.handleAmount}),r.a.createElement(k.a,{style:_.submitButton,onPress:function(){return e.save()}},r.a.createElement(h.a,{style:_.submitButtonText}," Submit "))),!this.state.mainPage&&r.a.createElement(j.a,{style:_.desc},r.a.createElement(h.a,{style:_.pid},"Payment Id: ",this.state.result.invoiceId),r.a.createElement(h.a,{style:_.status},"Pending"),r.a.createElement(h.a,{style:_.title},"Company"),r.a.createElement(h.a,{style:_.value},this.state.company.label),r.a.createElement(h.a,{style:_.title},"Reference"),r.a.createElement(h.a,{style:_.value},this.state.reference),r.a.createElement(h.a,{style:_.title},"Amount in Pesos"),r.a.createElement(h.a,{style:_.value},Number(this.state.amount).toFixed(2)),r.a.createElement(h.a,{style:_.title},"Total in cUSD"),r.a.createElement(h.a,{style:_.value},this.state.result.updatedAmount),r.a.createElement(k.a,{style:_.submitButton,onPress:function(){return e.transfer(e.state.reference,e.state.amount)}},r.a.createElement(h.a,{style:_.submitButtonText}," Confirm Payment "))),r.a.createElement(j.a,{style:_.back},r.a.createElement(k.a,{onPress:this.gotToLogin},r.a.createElement(h.a,{onPress:function(){return e.props.history.push("/login")}}," ","Back"," ")))))}},{key:"setSelectedValue",value:function(e){throw new Error("Method not implemented.")}}]),n}(r.a.Component),_=g.a.create({container:{paddingTop:23,flex:1,alignItems:"center",justifyContent:"center"},input:{margin:15,height:40,width:200,borderColor:"rgb(223, 223, 223)",borderWidth:1,padding:10},submitButton:{backgroundColor:"#673ab7",padding:10,margin:15,height:40,alignItems:"center",textAlign:"center",borderRadius:5},submitButtonText:{color:"white",fontSize:18,fontWeight:"500"},label:{textAlign:"left",alignItems:"flex-start",justifyContent:"flex-start"},card:{backgroundColor:"#ffffff",width:320,alignItems:"center",borderRadius:3},dropdown:{width:200,marginLeft:15,marginTop:10,marginBottom:10},back:{alignItems:"flex-end"},desc:{paddingTop:10,color:"#1c1b19"},pid:{fontSize:14,fontWeight:"600"},status:{color:"#673ab7",fontStyle:"italic",fontSize:14,marginTop:10},title:{color:"#6f6e6b",fontStyle:"italic",fontSize:12,marginBottom:2,marginTop:10},value:{fontSize:16,fontWeight:"400"},spinnerTextStyle:{color:"#FFF"}}),q=function(){return r.a.createElement(E.a,null,r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"/",exact:!0,component:A}),r.a.createElement(S.b,{path:"/login",exact:!0,component:A}),r.a.createElement(S.b,{path:"/pay",exact:!0,component:J}),r.a.createElement(S.a,{to:"/"})))},G=g.a.create({MainContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#e8ebf4"}});t.a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(j.a,{style:G.MainContainer},r.a.createElement(q,null)))}},772:function(e,t,n){e.exports=n(1317)},789:function(e,t){},791:function(e,t){},805:function(e,t){},806:function(e,t){},832:function(e,t){},834:function(e,t){},845:function(e,t){},878:function(e,t){},880:function(e,t){},908:function(e,t){},910:function(e,t){},911:function(e,t){},916:function(e,t){},918:function(e,t){},924:function(e,t){},926:function(e,t){},945:function(e,t){},957:function(e,t){},960:function(e,t){}},[[772,1,2]]]);
//# sourceMappingURL=app.c65f13e2.chunk.js.map
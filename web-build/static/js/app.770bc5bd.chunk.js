(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{1164:function(e,t){},1166:function(e,t){},1173:function(e,t){},1174:function(e,t){},1242:function(e,t,n){var a={"./af":543,"./af.js":543,"./ar":544,"./ar-dz":545,"./ar-dz.js":545,"./ar-kw":546,"./ar-kw.js":546,"./ar-ly":547,"./ar-ly.js":547,"./ar-ma":548,"./ar-ma.js":548,"./ar-sa":549,"./ar-sa.js":549,"./ar-tn":550,"./ar-tn.js":550,"./ar.js":544,"./az":551,"./az.js":551,"./be":552,"./be.js":552,"./bg":553,"./bg.js":553,"./bm":554,"./bm.js":554,"./bn":555,"./bn-bd":556,"./bn-bd.js":556,"./bn.js":555,"./bo":557,"./bo.js":557,"./br":558,"./br.js":558,"./bs":559,"./bs.js":559,"./ca":560,"./ca.js":560,"./cs":561,"./cs.js":561,"./cv":562,"./cv.js":562,"./cy":563,"./cy.js":563,"./da":564,"./da.js":564,"./de":565,"./de-at":566,"./de-at.js":566,"./de-ch":567,"./de-ch.js":567,"./de.js":565,"./dv":568,"./dv.js":568,"./el":569,"./el.js":569,"./en-au":570,"./en-au.js":570,"./en-ca":571,"./en-ca.js":571,"./en-gb":572,"./en-gb.js":572,"./en-ie":573,"./en-ie.js":573,"./en-il":574,"./en-il.js":574,"./en-in":575,"./en-in.js":575,"./en-nz":576,"./en-nz.js":576,"./en-sg":577,"./en-sg.js":577,"./eo":578,"./eo.js":578,"./es":579,"./es-do":580,"./es-do.js":580,"./es-mx":581,"./es-mx.js":581,"./es-us":582,"./es-us.js":582,"./es.js":579,"./et":583,"./et.js":583,"./eu":584,"./eu.js":584,"./fa":585,"./fa.js":585,"./fi":586,"./fi.js":586,"./fil":587,"./fil.js":587,"./fo":588,"./fo.js":588,"./fr":589,"./fr-ca":590,"./fr-ca.js":590,"./fr-ch":591,"./fr-ch.js":591,"./fr.js":589,"./fy":592,"./fy.js":592,"./ga":593,"./ga.js":593,"./gd":594,"./gd.js":594,"./gl":595,"./gl.js":595,"./gom-deva":596,"./gom-deva.js":596,"./gom-latn":597,"./gom-latn.js":597,"./gu":598,"./gu.js":598,"./he":599,"./he.js":599,"./hi":600,"./hi.js":600,"./hr":601,"./hr.js":601,"./hu":602,"./hu.js":602,"./hy-am":603,"./hy-am.js":603,"./id":604,"./id.js":604,"./is":605,"./is.js":605,"./it":606,"./it-ch":607,"./it-ch.js":607,"./it.js":606,"./ja":608,"./ja.js":608,"./jv":609,"./jv.js":609,"./ka":610,"./ka.js":610,"./kk":611,"./kk.js":611,"./km":612,"./km.js":612,"./kn":613,"./kn.js":613,"./ko":614,"./ko.js":614,"./ku":615,"./ku.js":615,"./ky":616,"./ky.js":616,"./lb":617,"./lb.js":617,"./lo":618,"./lo.js":618,"./lt":619,"./lt.js":619,"./lv":620,"./lv.js":620,"./me":621,"./me.js":621,"./mi":622,"./mi.js":622,"./mk":623,"./mk.js":623,"./ml":624,"./ml.js":624,"./mn":625,"./mn.js":625,"./mr":626,"./mr.js":626,"./ms":627,"./ms-my":628,"./ms-my.js":628,"./ms.js":627,"./mt":629,"./mt.js":629,"./my":630,"./my.js":630,"./nb":631,"./nb.js":631,"./ne":632,"./ne.js":632,"./nl":633,"./nl-be":634,"./nl-be.js":634,"./nl.js":633,"./nn":635,"./nn.js":635,"./oc-lnc":636,"./oc-lnc.js":636,"./pa-in":637,"./pa-in.js":637,"./pl":638,"./pl.js":638,"./pt":639,"./pt-br":640,"./pt-br.js":640,"./pt.js":639,"./ro":641,"./ro.js":641,"./ru":642,"./ru.js":642,"./sd":643,"./sd.js":643,"./se":644,"./se.js":644,"./si":645,"./si.js":645,"./sk":646,"./sk.js":646,"./sl":647,"./sl.js":647,"./sq":648,"./sq.js":648,"./sr":649,"./sr-cyrl":650,"./sr-cyrl.js":650,"./sr.js":649,"./ss":651,"./ss.js":651,"./sv":652,"./sv.js":652,"./sw":653,"./sw.js":653,"./ta":654,"./ta.js":654,"./te":655,"./te.js":655,"./tet":656,"./tet.js":656,"./tg":657,"./tg.js":657,"./th":658,"./th.js":658,"./tk":659,"./tk.js":659,"./tl-ph":660,"./tl-ph.js":660,"./tlh":661,"./tlh.js":661,"./tr":662,"./tr.js":662,"./tzl":663,"./tzl.js":663,"./tzm":664,"./tzm-latn":665,"./tzm-latn.js":665,"./tzm.js":664,"./ug-cn":666,"./ug-cn.js":666,"./uk":667,"./uk.js":667,"./ur":668,"./ur.js":668,"./uz":669,"./uz-latn":670,"./uz-latn.js":670,"./uz.js":669,"./vi":671,"./vi.js":671,"./x-pseudo":672,"./x-pseudo.js":672,"./yo":673,"./yo.js":673,"./zh-cn":674,"./zh-cn.js":674,"./zh-hk":675,"./zh-hk.js":675,"./zh-mo":676,"./zh-mo.js":676,"./zh-tw":677,"./zh-tw.js":677};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=1242},1333:function(e,t,n){e.exports=n.p+"static/media/742.d50f7ce3.gif"},1334:function(e,t,n){e.exports=n.p+"static/media/celo.0b0d4139.png"},1335:function(e,t,n){e.exports=n.p+"static/media/error.029045d0.png"},1336:function(e,t,n){e.exports=n.p+"static/media/pending.04d7d3e8.png"},713:function(e,t,n){e.exports=n.p+"static/media/completed.9c4565bc.png"},77:function(e){e.exports=JSON.parse('{"CELO":{"DESTINATION_ADDRESS":"0x3ca7cdcfb98b066d6e8febe45a95c2fe911bf138","TRANSACTION_API":"https://explorer.celo.org/api?module=transaction&action=gettxinfo&txhash=","TRANSACTION_EXPLORER_LINK":"https://explorer.celo.org/tx/"},"SERVER":{"URL":"http://localhost:3000/api","CLIENT":"https://app.honoro.org"},"COMPANY_LIST":[{"value":12,"label":"Agua CDMX"},{"value":7,"label":"Cablemas"},{"value":1,"label":"CFE"},{"value":13,"label":"Dish"},{"value":11,"label":"EcoGas"},{"value":8,"label":"Gas Natural"},{"value":2,"label":"Infonavit"},{"value":34,"label":"Izzi"},{"value":95,"label":"MaxiGas"},{"value":6,"label":"Megacable"},{"value":66,"label":"Plan Telcel"},{"value":5,"label":"SKY"},{"value":111,"label":"Telmex"},{"value":88,"label":"Total Play"}]}')},783:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(5),o=n.n(s),c=n(6),i=n.n(c),l=n(8),u=n.n(l),f=n(9),m=n.n(f),p=n(3),d=n.n(p),h=n(20),y=n(4),g=n(1),j=n(30),v=n(101);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var E=function(e){u()(n,e);var t=b(n);function n(){return o()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){return r.a.createElement(y.a,{style:S.container},r.a.createElement(j.a,null,r.a.createElement(h.a,{style:S.text,onPress:function(){return v.a.openURL("/")}},"Honoro")))}}]),n}(a.Component),S=g.a.create({container:{height:60,backgroundColor:"#673ab7",alignItems:"center",justifyContent:"center"},text:{color:"white",fontSize:24,fontWeight:"500"}}),x=n(782),R=n(64),T=n(25),C=n.n(T),k=n(155),w=n(136),I=n(220),P=n(221),N=n.n(P),A=n(137),z=n(77);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var L=new N.a("https://forno.celo.org"),D=(Object(I.newKitFromWeb3)(L),function(e){u()(n,e);var t=O(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={status:null,address:null,phoneNumber:null,isUserExist:null,user:null,spinner:!1},e.login=function(){var t,n;return C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("entering login"),"login","Honoro",Object(k.requestAccountAddress)({requestId:"login",dappName:"Honoro",callback:window.location.href}),a.prev=4,a.next=7,C.a.awrap(Object(k.waitForAccountAuth)("login"));case 7:t=a.sent,setTimeout((function(){e.setState({status:"Login succeeded",address:t.address,phoneNumber:t.phoneNumber,loggedIn:!0})}),3e3),n={status:"Login succeeded",address:t.address,phoneNumber:t.phoneNumber},localStorage.setItem("usr",JSON.stringify(n)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(4),console.log(a.t0),e.setState({status:"Login timed out, try again."});case 17:case"end":return a.stop()}}),null,null,[[4,13]],Promise)},e}return i()(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({spinner:!0}),setTimeout((function(){var t=JSON.parse(localStorage.getItem("usr"));null===t?(e.setState({isUserExist:!1}),e.setState({spinner:!1})):fetch(z.SERVER.URL+"/celo/balances?address="+t.address,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){e.setState({isUserExist:!0,user:t,result:n,spinner:!1})})).catch((function(t){console.log(t),e.setState({spinner:!1})}))}),100)}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{style:B.container},r.a.createElement(w.a,{visible:this.state.spinner,textContent:"Loading...",textStyle:{color:"#673ab7",fontSize:14}}),r.a.createElement(A.a,{containerStyle:B.card},null===this.state.user?r.a.createElement(j.a,{style:B.submitButton,onPress:function(){return e.login()}},r.a.createElement(h.a,{style:B.submitButtonText}," Connect to Valora ")):this.state.result&&r.a.createElement(y.a,null,r.a.createElement(y.a,{style:B.mainV},r.a.createElement(y.a,{style:B.cView},r.a.createElement(y.a,{style:B.cUSDView}),r.a.createElement(h.a,{style:B.cUSD},this.state.result.cUSDBalance," cUSD")),r.a.createElement(y.a,{style:B.hView},r.a.createElement(y.a,{style:B.HNRView}),r.a.createElement(h.a,{style:B.HNR},this.state.result.HNRBalance," HNR")))),this.state.user?r.a.createElement(y.a,{style:B.desc},r.a.createElement(h.a,{style:B.text},"Status: ",this.state.user.status),r.a.createElement(h.a,{style:B.text},"Address: ",this.state.user.address),r.a.createElement(h.a,{style:B.text},"Phone number: ",this.state.user.phoneNumber)):null,this.state.user&&r.a.createElement(y.a,{style:B.pay},r.a.createElement(j.a,null,r.a.createElement(h.a,{onPress:function(){return e.props.history.push("/transaction")}},"History")),r.a.createElement(j.a,null,r.a.createElement(h.a,null,"Repay")),r.a.createElement(j.a,null,r.a.createElement(h.a,{onPress:function(){return e.props.history.push("/pay")}},"Use"))),r.a.createElement(r.a.Fragment,null)))}}]),n}(r.a.Component)),B=g.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},card:{backgroundColor:"#ffffff",padding:0,paddingTop:25,width:300,borderRadius:3,minHeight:300},submitButton:{backgroundColor:"#673ab7",padding:10,margin:15,height:40,alignItems:"center",textAlign:"center",borderRadius:5},submitButtonText:{color:"white",fontSize:18,fontWeight:"500"},text:{padding:10},desc:{padding:20},pay:{flexDirection:"row-reverse",justifyContent:"space-between",flex:1,top:45,padding:20,backgroundColor:"#cccbc8",fontSize:14,fontWeight:700},cUSDView:{width:20,height:20,backgroundColor:"#07a832",marginLeft:30,borderRadius:18},cView:{flexDirection:"row"},hView:{flexDirection:"row"},cUSD:{marginLeft:5,fontSize:14,fontWeight:700},HNRView:{width:20,height:20,backgroundColor:"#c9c012",marginLeft:20,borderRadius:18},HNR:{marginLeft:5,fontSize:14,fontWeight:700},mainV:{flexDirection:"row"}}),U=n(784),_=n(44),F=n(39),M=n(23),V=n(780),H=function(){function e(){o()(this,e)}return i()(e,[{key:"getTransactionDetails",value:function(e){return new Promise((function(t,n){fetch(""+z.CELO.TRANSACTION_API+e.hash,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))}}]),e}();function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var q=new N.a("https://forno.celo.org"),J=Object(I.newKitFromWeb3)(q),G=function(e){u()(a,e);var t=W(a);function a(){var e;o()(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={amount:"",reference:"",company:M.any,address:z.CELO.DESTINATION_ADDRESS,mainPage:!0,spinner:!1,result:M.any,isSuccess:!1,overlay:!1,error:!1,requestInProgress:!1,errorMessage:"",transactionHash:""},e.apiService=new H,e.handleReference=function(t){e.setState({reference:t})},e.handleAmount=function(t){e.setState({amount:t})},e.transfer=function(){var t,n,a,r,s,o,c,i,l,u,f;return C.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(!e.state.address){m.next=38;break}return e.setState({overlay:!0,requestInProgress:!0}),console.log("Entering transfer"),t="transfer",n="Honoro",a=z.SERVER.CLIENT+"/transaction/detail",r=z.CELO.DESTINATION_ADDRESS,s=String(1e18*Number(e.state.result.updatedAmount)),m.next=10,C.a.awrap(J.contracts.getStableToken());case 10:return o=m.sent,c=o.transfer(r,s).txo,Object(k.requestTxSig)(J,[{tx:c,to:o.address,from:String(localStorage.getItem("address")),feeCurrency:k.FeeCurrency.cUSD}],{requestId:t,dappName:n,callback:a}),m.prev=13,m.next=16,C.a.awrap(Object(k.waitForSignedTxs)(t));case 16:l=m.sent,i=l.rawTxs[0],m.next=25;break;case 20:return m.prev=20,m.t0=m.catch(13),console.log(m.t0),e.setState({error:!0,requestInProgress:!1,errorMessage:m.t0.message}),m.abrupt("return");case 25:return m.prev=25,m.next=28,C.a.awrap(J.connection.sendSignedTransaction(i));case 28:return u=m.sent,m.next=31,C.a.awrap(u.waitReceipt());case 31:(f=m.sent).status?e.setState({requestInProgress:!1,isSuccess:!0,error:!1,transactionHash:f.transactionHash}):(console.log(JSON.stringify(f)),status="failed to send transaction",e.setState({error:!0,requestInProgress:!1,errorMessage:JSON.stringify(f)})),m.next=38;break;case 35:m.prev=35,m.t1=m.catch(25),e.setState({error:!0,requestInProgress:!1,errorMessage:m.t1.message});case 38:case"end":return m.stop()}}),null,null,[[13,20],[25,35]],Promise)},e}return i()(a,[{key:"save",value:function(){var e=this;this.setState({spinner:!0});var t=JSON.parse(localStorage.getItem("usr")),n={company:{amount:this.state.amount,company:this.state.company.value,reference:this.state.reference,source:"honoro"}};null!==t&&(n.company.userAddress=t.address),fetch(z.SERVER.URL+"/transaction/details",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),localStorage.setItem("inv",String(t.invoiceId)),e.setState({mainPage:!1,result:t,spinner:!1})})).catch((function(t){console.log(t),e.setState({spinner:!1})}))}},{key:"gotToLogin",value:function(){U.a.pop()}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{style:K.container},r.a.createElement(w.a,{visible:this.state.spinner,textContent:"Loading...",textStyle:{color:"#673ab7",fontSize:14}}),r.a.createElement(A.a,{containerStyle:K.card},this.state.mainPage&&r.a.createElement(y.a,null,r.a.createElement(V.a,{items:z.COMPANY_LIST,placeholder:"Select Company",style:K.dropdown,onChangeItem:function(t){return e.setState({company:t})}}),r.a.createElement(_.a,{style:K.input,underlineColorAndroid:"transparent",autoCapitalize:"none",placeholder:"Reference",onChangeText:this.handleReference}),r.a.createElement(_.a,{style:K.input,underlineColorAndroid:"transparent",placeholder:"Amount",autoCapitalize:"none",onChangeText:this.handleAmount}),r.a.createElement(j.a,{style:K.submitButton,onPress:function(){return e.save()}},r.a.createElement(h.a,{style:K.submitButtonText}," Submit "))),!this.state.mainPage&&r.a.createElement(y.a,{style:K.desc},r.a.createElement(h.a,{style:K.pid},"Payment Id: ",this.state.result.invoiceId),r.a.createElement(h.a,{style:K.status},"Pending"),r.a.createElement(h.a,{style:K.title},"Company"),r.a.createElement(h.a,{style:K.value},this.state.company.label),r.a.createElement(h.a,{style:K.title},"Reference"),r.a.createElement(h.a,{style:K.value},this.state.reference),r.a.createElement(h.a,{style:K.title},"Amount in Pesos"),r.a.createElement(h.a,{style:K.value},Number(this.state.amount).toFixed(2)),r.a.createElement(h.a,{style:K.title},"Total in cUSD"),r.a.createElement(h.a,{style:K.value},this.state.result.updatedAmount),r.a.createElement(j.a,{style:K.submitButton,onPress:function(){return e.transfer()}},r.a.createElement(h.a,{style:K.submitButtonText}," Confirm Payment "))),r.a.createElement(y.a,{style:K.back},r.a.createElement(j.a,{onPress:this.gotToLogin},r.a.createElement(h.a,{onPress:function(){return e.props.history.push("/")}}," Back "))),this.state.overlay&&r.a.createElement(y.a,{style:K.overlay},this.state.requestInProgress&&r.a.createElement(y.a,null,r.a.createElement(F.a,{source:{uri:n(1333)},style:K.loader}),r.a.createElement(h.a,{style:K.loadText},"Waiting for confirmation...")),this.state.isSuccess&&r.a.createElement(y.a,null,r.a.createElement(F.a,{source:{uri:n(713)},style:K.loader}),r.a.createElement(j.a,null,r.a.createElement(h.a,{style:K.statusLink,onPress:function(){return e.props.history.push("/transaction/detail")}},"Check Status"),r.a.createElement(h.a,{style:K.loadText},"Transaction submitted...")),r.a.createElement(j.a,null,r.a.createElement(F.a,{source:{uri:n(1334)},style:K.celoIcon}),r.a.createElement(h.a,{style:K.statusLink,onPress:function(){return window.open(""+z.CELO.TRANSACTION_EXPLORER_LINK+e.state.transactionHash+"/internal_transactions","_blank")}},"See Transaction"))),this.state.error&&r.a.createElement(y.a,null,r.a.createElement(F.a,{source:{uri:n(1335)},style:K.loader}),r.a.createElement(h.a,{style:K.errorMessage},this.state.errorMessage),r.a.createElement(j.a,null,r.a.createElement(h.a,{style:K.statusLink,onPress:function(){return e.props.history.push("/transaction/detail")}},"Check Status"))))))}}]),a}(r.a.Component),K=g.a.create({container:{paddingTop:23,flex:1,alignItems:"center",justifyContent:"center"},input:{margin:15,height:40,width:200,borderColor:"rgb(223, 223, 223)",borderWidth:1,padding:10},submitButton:{backgroundColor:"#673ab7",padding:10,margin:15,height:40,alignItems:"center",textAlign:"center",borderRadius:5},submitButtonText:{color:"white",fontSize:18,fontWeight:"500"},label:{textAlign:"left",alignItems:"flex-start",justifyContent:"flex-start"},card:{backgroundColor:"#ffffff",width:320,alignItems:"center",borderRadius:3},dropdown:{width:200,marginLeft:15,marginTop:10,marginBottom:10},back:{alignItems:"flex-end"},desc:{paddingTop:10,color:"#1c1b19"},pid:{fontSize:14,fontWeight:"600"},status:{color:"#673ab7",fontStyle:"italic",fontSize:14,marginTop:10},title:{color:"#6f6e6b",fontStyle:"italic",fontSize:12,marginBottom:2,marginTop:10},value:{fontSize:16,fontWeight:"400"},spinnerTextStyle:{color:"#FFF"},overlay:{position:"absolute",top:40,right:0,bottom:0,left:0,backgroundColor:"#dad8d8",opacity:1,borderRadius:5},loader:{width:64,height:64,alignSelf:"center",marginTop:10},loadText:{alignSelf:"center",marginTop:10,color:"#673ab7",fontWeight:"700",fontSize:14},statusLink:{alignSelf:"center",marginTop:15,fontWeight:"700",fontSize:12,color:"#673ab7"},errorMessage:{alignSelf:"center",marginTop:15,fontWeight:"700",fontSize:12,color:"red",textAlign:"center"},celoIcon:{width:40,height:40,alignSelf:"center",marginTop:10}});function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var X=function(e){u()(n,e);var t=Y(n);function n(){return o()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){return r.a.createElement(y.a,{style:Q.container},localStorage.getItem("usr"),r.a.createElement(j.a,{onPress:function(){return localStorage.clear()}},r.a.createElement(h.a,null," Reset ")))}}]),n}(r.a.Component),Q=g.a.create({container:{paddingTop:23,flex:1,alignItems:"center",justifyContent:"center"}}),Z=n(265);function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var ee=function(e){u()(a,e);var t=$(a);function a(){var e;o()(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={invoice:M.any,spinner:!1},e}return i()(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({spinner:!0}),setTimeout((function(){var t=localStorage.getItem("inv");null===t?Z.a.alert("Error","Invoice id is missing",[{text:"OK",onPress:function(){return console.log("OK Pressed")}}]):fetch(z.SERVER.URL+"/invoice?invoiceId="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var n=z.COMPANY_LIST.find((function(e){return e.value===t.company_id}));t.company=n.label,e.setState({invoice:t,spinner:!1})})).catch((function(t){console.log(t),e.setState({spinner:!1})}))}),100)}},{key:"save",value:function(){var e=this;this.setState({spinner:!0});this.state.amount,this.state.company.value,this.state.reference,M.any;fetch(z.SERVER.URL+"/transaction/details",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({mainPage:!1,result:t,spinner:!1})})).catch((function(t){console.log(t),e.setState({spinner:!1})}))}},{key:"render",value:function(){return r.a.createElement(y.a,{style:te.container},r.a.createElement(w.a,{visible:this.state.spinner,textContent:"Loading...",textStyle:{color:"#673ab7",fontSize:14}}),r.a.createElement(A.a,{containerStyle:te.card},r.a.createElement(y.a,{style:te.desc},r.a.createElement(F.a,{source:{uri:"completed"===this.state.invoice.status?n(713):n(1336)},style:te.icon}),r.a.createElement(h.a,{style:te.pid},"Payment Id: ",this.state.invoice.invoice_id),r.a.createElement(h.a,{style:te.status},"initiated"===this.state.invoice.status?"Pending":this.state.invoice.status),r.a.createElement(h.a,{style:te.title},"Company"),r.a.createElement(h.a,{style:te.value},this.state.invoice.company),r.a.createElement(h.a,{style:te.title},"Reference"),r.a.createElement(h.a,{style:te.value},this.state.invoice.reference),r.a.createElement(h.a,{style:te.title},"Amount in Pesos"),r.a.createElement(h.a,{style:te.value},Number(this.state.invoice.amount).toFixed(2)),r.a.createElement(h.a,{style:te.title},"Total in cUSD"),r.a.createElement(h.a,{style:te.value},this.state.invoice.celo_amount))))}}]),a}(r.a.Component),te=g.a.create({container:{paddingTop:23,flex:1,alignItems:"center",justifyContent:"center"},card:{backgroundColor:"#ffffff",width:320,alignItems:"center",borderRadius:3},desc:{paddingTop:10,color:"#1c1b19"},pid:{fontSize:14,fontWeight:"600"},status:{color:"#673ab7",fontStyle:"italic",fontSize:14,marginTop:10},title:{color:"#6f6e6b",fontStyle:"italic",fontSize:12,marginBottom:2,marginTop:10},value:{fontSize:16,fontWeight:"400"},spinnerTextStyle:{color:"#FFF"},icon:{width:40,height:40,alignSelf:"center",marginBottom:10}}),ne=n(1366);function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var re=function(e){u()(n,e);var t=ae(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={spinner:!1,invoices:[]},e}return i()(n,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("usr"));null===t?this.setState({spinner:!1}):(this.setState({spinner:!0}),fetch(z.SERVER.URL+"/invoices?u="+t.address,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t=t.map((function(e){var t=z.COMPANY_LIST.find((function(t){return t.value===e.company_id}));return t&&(e.companyName=t.label),e})),e.setState({invoices:t,spinner:!1})})).catch((function(t){console.log(t),e.setState({spinner:!1})})))}},{key:"renderTableData",value:function(){return this.state.invoices.map((function(e,t){return r.a.createElement(ne.a.Row,{key:e.id},r.a.createElement(ne.a.Cell,{style:{justifyContent:"center"}},e.companyName),r.a.createElement(ne.a.Cell,{style:{justifyContent:"center"}},e.celo_amount))}))}},{key:"render",value:function(){return r.a.createElement(y.a,{style:se.container},r.a.createElement(w.a,{visible:this.state.spinner,textContent:"Loading...",textStyle:{color:"#673ab7",fontSize:14}}),r.a.createElement(A.a,{containerStyle:se.card},r.a.createElement(ne.a,{style:{width:400,height:200,overflow:"scroll"}},r.a.createElement(ne.a.Header,null,r.a.createElement(ne.a.Title,{style:{justifyContent:"center"}},"Company"),r.a.createElement(ne.a.Title,{style:{justifyContent:"center"}},"cUSD")),this.renderTableData())))}}]),n}(r.a.Component),se=g.a.create({container:{paddingTop:23,flex:1,alignItems:"center",justifyContent:"center"},card:{backgroundColor:"#ffffff",alignItems:"center",borderRadius:5},spinnerTextStyle:{color:"#FFF"}}),oe=function(){return r.a.createElement(x.a,null,r.a.createElement(R.d,null,r.a.createElement(R.b,{path:"/",exact:!0,component:D}),r.a.createElement(R.b,{path:"/pay",exact:!0,component:G}),r.a.createElement(R.b,{path:"/check",exact:!0,component:X}),r.a.createElement(R.b,{path:"/transaction/detail",exact:!0,component:ee}),r.a.createElement(R.b,{path:"/transaction",exact:!0,component:re}),r.a.createElement(R.a,{to:"/"})))},ce=g.a.create({MainContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#e8ebf4"}});t.a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(y.a,{style:ce.MainContainer},r.a.createElement(oe,null)))}},788:function(e,t,n){e.exports=n(1341)},805:function(e,t){},807:function(e,t){},821:function(e,t){},822:function(e,t){},848:function(e,t){},850:function(e,t){},861:function(e,t){},894:function(e,t){},896:function(e,t){},924:function(e,t){},926:function(e,t){},927:function(e,t){},932:function(e,t){},934:function(e,t){},940:function(e,t){},942:function(e,t){},961:function(e,t){},973:function(e,t){},976:function(e,t){}},[[788,1,2]]]);
//# sourceMappingURL=app.770bc5bd.chunk.js.map